define([
    "esri/tasks/locator", 
    "dojo/on", "dojo/dom-construct", 
    "dojo/domReady!"],
    function (Locator, on, domConstruct) {
        //"use strict";

        
        //this.locator = null;
        //this.clickedMapPoint = null;
        //var self = this;

        //return {
        //    startup: function() {
        //        self.locator = new Locator("//geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer");
        //        self.locator.countryCode = 'IT';
        //        self.locator.outSpatialReference = app.map.spatialReference;
        //    },
        //    locationToAddress: function (location, distance) {
        //        app.map.infoWindow.hide();
        //        self.clickedMapPoint = location;
        //        self.locator.locationToAddress(location, distance, locationToAddressCallback, locationToAddressErrBack);
        //    }
        //}

        //function locationToAddressCallback(evt) {
        //    if (evt.address) {
                

                
                
        //        app.map.infoWindow.setTitle('Localizzazione');
        //        app.map.infoWindow.setContent(evt.address.LongLabel);

                
        //        // var screenPnt = app.map.toScreen(evt.address.location);
        //        var screenPnt = app.map.toScreen(self.clickedMapPoint);
        //        //app.map.infoWindow.resize(200, 100);
        //        app.map.infoWindow.show(screenPnt, app.map.getInfoWindowAnchor(screenPnt));
        //    }
        //}

        //function locationToAddressErrBack(error) {

        //}
    });