function formatNumber(n,t){return t===undefined&&(t=2),accounting.formatNumber(n,t,NumberGroupSeparator,NumberDecimalSeparator)}function unformatNumber(n){var t=accounting.unformat(n,NumberDecimalSeparator);return t.toString().replace(".",NumberDecimalSeparator)}function onkeydown_OnlyNumber(n){var t=$(this).hasClass("decimal"),i=$(this).hasClass("allow-negative");if($.inArray(n.keyCode,[46,8,9,27,13])!==-1||$.inArray(n.keyCode,[110,188,190])!==-1&&t&&$(this).val().indexOf(NumberDecimalSeparator)===-1||!0&&i&&n.target.selectionStart==0&&$(this).val().indexOf("-")===-1||$.inArray(n.keyCode,[65,67,88])!==-1&&(n.ctrlKey===!0||n.metaKey===!0)||n.keyCode>=35&&n.keyCode<=39){t&&NumberDecimalSeparator==="."&&n.keyCode===188&&(n.preventDefault(),$(this).val($(this).val()+NumberDecimalSeparator));t&&NumberDecimalSeparator===","&&(n.keyCode===110||n.keyCode===190)&&(n.preventDefault(),$(this).val($(this).val()+NumberDecimalSeparator));return}(n.shiftKey||n.keyCode<48||n.keyCode>57)&&(n.keyCode<96||n.keyCode>105)&&n.preventDefault()}function callWebMethod(n,t,i,r,u){$.ajax({type:"POST",url:n,data:JSON.stringify(t),contentType:"application/json; charset=utf-8",dataType:"json",success:function(n){$.isFunction(i)&&i(n)},error:function(t,i,u){var f="";try{f=$.parseJSON(t.responseText).Message}catch(e){f=u}$.isFunction(r)?r(f):alert(n+"\n"+f)},complete:function(n){$.isFunction(u)&&u(n)}})}function syncAjax(n,t,i){$.ajax({type:"POST",url:n,data:JSON.stringify(t),contentType:"application/json; charset=utf-8",dataType:"json",async:!1,success:function(n){$.isFunction(i)&&i(n)},error:function(t,i,r){var u="";try{u=$.parseJSON(t.responseText).Message}catch(f){u=r}alert(n+"\n"+u)},complete:function(){}})}function getPropValue(n,t){var r="";for(var i in n)if(n.hasOwnProperty(i)&&t.toLowerCase()==i.toLowerCase()){r=n[i];break}return r}function setPropValue(){}function notify(n,t,i){var r=$("<p>").addClass(i).html(t);n.getModalBody().append(r);r.css({position:"absolute",left:"0",top:"0",width:"100%",height:"auto",padding:"15px","z-index":"10"});i=="bg-danger"?r.append($("<button>").attr({type:"button"}).addClass("close").html("x").click(function(){$(this).closest("p").fadeOut("slow",function(){$(this).remove()})})):r.show().delay(2e3).fadeOut("slow",function(){$(this).remove()})}function alertWarning(n){bsAlert("ATTENZIONE",BootstrapDialog.TYPE_WARNING,n)}function alertDanger(n){bsAlert("ERRORE",BootstrapDialog.TYPE_DANGER,n)}function bsAlert(n,t,i){BootstrapDialog.alert({title:n,message:i,type:t,closable:!0,draggable:!1,buttonLabel:"Ok!",callback:function(){}})}function bsConfirm(n,t,i,r){BootstrapDialog.confirm({title:n,message:t,type:BootstrapDialog.TYPE_WARNING,closable:!0,draggable:!0,btnCancelLabel:"Annulla",btnOKLabel:"Conferma",btnOKClass:"btn-warning",callback:function(n){n?$.isFunction(i)&&i():$.isFunction(r)&&r()}})}function isEmpty(n){return typeof n=="undefined"||n===null||n===""?!0:typeof n=="number"&&isNaN(n)?!0:n instanceof Date&&isNaN(Number(n))?!0:!1}function notEmpty(n,t){return t=isEmpty(t)?" ":t,isEmpty(n)?t:n}function convertISODate(n){return moment(n,"YYYY-MM-DDTHH:mm:SSZ").isValid()?moment(n,"YYYY-MM-DDTHH:mm:SSZ").format(_dateTimeFormat.DATA.FORMAT):""}function parseDouble(n){return isEmpty(n)?0:(nfi.NumberDecimalSeparator==","&&(n=n.toString().replace(/,([^,]*)$/,".$1")),n)}function formatDouble(n,t){var i;if(isEmpty(t)&&(t=2),i=accounting.formatNumber(parseDouble(n),t,nfi.NumberGroupSeparator,nfi.NumberDecimalSeparator),t>2){for(var u=0,f=i.indexOf(".")+2,r=i.length-1;r>f;){if(i.charAt(r)!="0")break;else u+=1;r--}i=i.substring(0,i.length-u)}return i}function unformatDouble(n){var t=accounting.unformat(n,nfi.NumberDecimalSeparator);return parseFloat(t)}function roundNumber(n,t){isEmpty(t)&&(t=2);t=Math.abs(parseInt(t))||0;var i=Math.pow(10,t);return Math.round(n*i)/i}function parseBoolean(n){return n==!0||n=="True"||n=="true"||n==1||n=="1"}function formatBoolean(n,t,i){return isEmpty(n)&&(n=!1),parseBoolean(n)?t:i}function getUrlParameter(n){n=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i=new RegExp("[\\?&]"+n+"=([^&#]*)"),t=i.exec(location.search);return t===null?"":decodeURIComponent(t[1].replace(/\+/g," "))}function checkRequired(n){var t=!0;return $("[required]",n).each(function(){$(this).closest(".form-group").removeClass("has-error");$(this).val()==""&&($(this).closest(".form-group").addClass("has-error"),t=!1)}),t}function checkValidInput(n){var t=!0;return $("input.validInputChecker",n).each(function(){$(this).data("validInputChecker").validate()||(t=!1)}),t}function copyVal(n,t){$(t).val($(n).val())}function setErrorState(){}function submitForm(n,t){var i=$("<form>").attr({id:"temp_form",method:"POST",action:n});$.each(t,function(n,t){i.append($("<input>").attr({id:t.Name,name:t.Name,type:"hidden"}).val(t.Value))});i.appendTo("body").submit()}function setTableFilter(n,t){var i="#"+n+" tr",r=new RegExp(t,"i");$(i).hide();$(i).filter(function(){return r.test($(this).text())}).show()}try{String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")})}catch(e){}var _dateTimeFormat={DATA:{MASK:"99/99/9999",FORMAT:"DD/MM/YYYY"},DATA_ORA_MIN:{MASK:"99/99/9999 99:99",FORMAT:"DD/MM/YYYY HH:mm"},DATA_ORA_MIN_SEC:{MASK:"99/99/9999 99:99:99",FORMAT:"DD/MM/YYYY HH:mm:ss"}},NumberGroupSeparator=".",NumberDecimalSeparator=",",stringEmpty="";Date.prototype.today=function(){return(this.getDate()<10?"0":"")+this.getDate()+"/"+(this.getMonth()+1<10?"0":"")+(this.getMonth()+1)+"/"+this.getFullYear()};Date.prototype.timeNow=function(){return(this.getHours()<10?"0":"")+this.getHours()+":"+(this.getMinutes()<10?"0":"")+this.getMinutes()+":"+(this.getSeconds()<10?"0":"")+this.getSeconds()};$(document).ready(function(){try{$.views.helpers({jsFormatBoolean:function(n){return formatBoolean(n,"SI","NO")},jsFormatDouble:function(n){return formatDouble(n)},jsConvertISODate:convertISODate,jsIsEmpty:isEmpty})}catch(n){}$(document).unbind("keydown").bind("keydown",function(n){var i=!1,t;n.keyCode===8&&(t=n.srcElement||n.target,(t.tagName.toUpperCase()==="INPUT"&&t.type.toUpperCase()==="TEXT"||t.type.toUpperCase()==="PASSWORD"||t.type.toUpperCase()==="FILE"||t.type.toUpperCase()==="EMAIL"||t.tagName.toUpperCase()==="TEXTAREA")&&(i=t.readOnly||t.disabled));i&&n.preventDefault()});$(document).on("click",":submit",function(){var n=$(this);n.hide(0,function(){var t=$('<a href="#">Attendere...<\/span>').attr({"class":n.attr("class")}).addClass("disabled");$(t).insertBefore(n)})});$(document).on("input","[required]",function(){$(this).closest(".form-group").removeClass("has-error")});$("input").each(function(){switch($(this).data("type")){case"email":case"codice-fiscale":case"partita-iva":case"data-ora":$(this).validInputChecker()}});$(document).on({click:function(){$(this).select()},keydown:onkeydown_OnlyNumber,focus:function(){$(this).hasClass("decimal")&&(this.value=unformatNumber(this.value))},blur:function(){$(this).hasClass("decimal")&&(NumberDecimalSeparator==","&&(this.value=this.value.replace(/,/g,".")),$(this).val(formatNumber(this.value)))}},"input.numeric")}),function(){function n(n,t){t=t||{bubbles:!1,cancelable:!1,detail:undefined};var i=document.createEvent("CustomEvent");return i.initCustomEvent(n,t.bubbles,t.cancelable,t.detail),i}if(typeof window.CustomEvent=="function")return!1;n.prototype=window.Event.prototype;window.CustomEvent=n}(),function(n){n.fn.bindWithDelay=function(t,i,r,u,f){return n.isFunction(i)&&(f=u,u=r,r=i,i=undefined),r.guid=r.guid||n.guid&&n.guid++,this.each(function(){function o(){var t=n.extend(!0,{},arguments[0]),i=this,o=function(){e=null;r.apply(i,[t])};f||(clearTimeout(e),e=null);e||(e=setTimeout(o,u))}var e=null;o.guid=r.guid;n(this).bind(t,i,o)})}}(jQuery),function(n){n.fn.tablesortable=function(t){return this.each(function(){var i=n(this);t=t||{};t=n.extend({},n.fn.tablesortable.default_sort_fns,t);i.data("sortFns",t);i.on("click","thead th",function(){n(this).tablesort()})})};n.fn.tablesort=function(t){var i=n(this),e=0,f=n.fn.tablesortable.dir,u=i.closest("table"),o=i.data("sort")||null,r;if(o!==null)return(i.parents("tr").find("th").slice(0,n(this).index()).each(function(){var t=n(this).attr("colspan")||1;e+=parseInt(t,10)}),arguments.length==1?r=t:(r=t||i.data("sort-default")||f.ASC,i.data("sort-dir")&&(r=i.data("sort-dir")===f.ASC?f.DESC:f.ASC)),i.data("sort-dir")===r)?void 0:(i.data("sort-dir",r),u.trigger("beforetablesort",{column:e,direction:r}),u.css("display"),setTimeout(function(){var t=[],l=u.data("sortFns"),a=l[o],s=u.children("tbody").children("tr"),h,c;s.each(function(i,r){var u=n(r).children().eq(e),f=u.data("sort-value"),o;typeof f=="undefined"&&(o=u.text(),u.data("sort-value",o),f=o);t.push([f,r])});t.sort(function(n,t){return a(n[0],t[0])});r!=f.ASC&&t.reverse();s=n.map(t,function(n){return n[1]});u.children("tbody").append(s);u.find("th").data("sort-dir",null).removeClass("sorting-desc sorting-asc");i.data("sort-dir",r).addClass("sorting-"+r);h=i.closest("tr");h.find("th").removeClass("asc").removeClass("desc");c=r===f.ASC?"asc":"desc";i.addClass(c);u.trigger("aftertablesort",{column:e,direction:r});u.css("display")},10),i)};n.fn.updateSortVal=function(t){var i=n(this);return i.is("[data-sort-value]")&&i.attr("data-sort-value",t),i.data("sort-value",t),i};n.fn.tablesortable.dir={ASC:"asc",DESC:"desc"};n.fn.tablesortable.default_sort_fns={int:function(n,t){return parseInt(n,10)-parseInt(t,10)},float:function(n,t){return parseFloat(n)-parseFloat(t)},string:function(n,t){return n.toString().localeCompare(t.toString())},"string-ins":function(n,t){return n=n.toString().toLocaleLowerCase(),t=t.toString().toLocaleLowerCase(),n.localeCompare(t)},datetime:function(n,t){return moment(n,_dateTimeFormat.DATA.FORMAT).isAfter(moment(t,_dateTimeFormat.DATA.FORMAT))},currency:function(n,t){return unformatDouble(n)-unformatDouble(t)}}}(jQuery);$(document).ready(function(){$(document).on({"show.bs.modal":function(){var n=1040+10*$(".modal:visible").length;$(this).css("z-index",n);setTimeout(function(){$(".modal-backdrop").not(".modal-stack").css("z-index",n-1).addClass("modal-stack")},0)},"hidden.bs.modal":function(){$(".modal:visible").length>0&&setTimeout(function(){$(document.body).addClass("modal-open")},0)}},".modal")}),function(n){"use strict";function r(r,u){this.element=r;this.settings=n.extend({},i,u);this._defaults=i;this._name=t;this.init()}var t="bsDialog",i={title:"",size:"",buttons:[]};n.extend(r.prototype,{init:function(){var t=n(this.element),i;t.addClass("modal fade").attr("role","dialog").removeClass("hidden");var r=n('<div class="modal-dialog '+this.settings.size+'" role="document">'),u=n('<div class="modal-content">'),f=n('<div class="modal-header">');f.html('<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;<\/span><\/button><h4 class="modal-title">'+this.settings.title+"<\/h4>");i=n('<div class="modal-footer">');n.each(this.settings.buttons,function(r,u){u.class=u.class||"btn-default";var f=n('<button type="button" class="btn '+u.class+'">'+u.label+"<\/button>").click(function(){n.isFunction(u.action)&&u.action(t)});i.append(f)});u.append(f).append(t.find(".modal-body")).append(i);r.append(u);t.append(r)}});n.fn[t]=function(i){return this.each(function(){n.data(this,"plugin_"+t)||n.data(this,"plugin_"+t,new r(this,i))})}}(jQuery,window,document);