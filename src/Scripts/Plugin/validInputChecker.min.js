function emailCheck(n){var i='[^\\s\\(\\)<>@,;:\\\\\\"\\.\\[\\]]+',o="("+i+'|("[^"]*"))',l=new RegExp("^"+o+"(\\."+o+")*$"),a=new RegExp("^"+i+"(\\."+i+")*$"),f=n.match(/^(.+)@(.+)$/),s,r,e,u,h,c;if(f==null)return alert("L'email sembra essere sbagliata: (controlla @ e .)"),!1;if(s=f[1],r=f[2],s.match(l)==null)return alert("La parte dell'email prima di '@' non sembra essere valida!"),!1;if(e=r.match(/^\[(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})\]$/),e!=null){for(u=1;u<=4;u++)if(e[u]>255)return alert("L'IP di destinazione non è valido!"),!1;return!0}if(h=r.match(a),h==null)return alert("La parte dell'email dopo '@' non sembra essere valida!"),!1;var v=new RegExp(i,"g"),t=r.match(v),y=t.length;return t[t.length-1].length<2||t[t.length-1].length>6?(alert("Il dominio di primo livello (es: .com e .it) non sembra essere valido!"),!1):y<2?(c="L'indirizzo manca del dominio!",alert(c),!1):!0}function IBANChk(n){if(n.length<5)return alert("La lunghezza è minore di 5 caratteri"),!1;for(s=n.substring(4)+n.substring(0,4),i=0,r=0;i<s.length;i++){if(c=s.charCodeAt(i),48<=c&&c<=57){if(i==s.length-4||i==s.length-3)return alert("Posizioni 1 e 2 non possono contenere cifre"),!1;k=c-48}else if(65<=c&&c<=90){if(i==s.length-2||i==s.length-1)return alert("Posizioni 3 e 4 non possono contenere lettere"),!1;k=c-55}else return alert("Sono ammesse solo cifre e lettere maiuscole"),!1;r=k>9?(100*r+k)%97:(10*r+k)%97}return r!=1?(alert("Il codice di controllo è errato"),!1):(alert("L'IBAN risulta corretto"),!0)}(function(n){n.validInputChecker=function(t,i){var c={country:{CODICE_NAZIONE:"IT",DESCRIZIONE:"ITALIA",CHECK_PIVA:!0,CHECK_CF:!0,CCVATCode:"IT"},isValid:!1},r=this,h;r.settings={};var u=n(t),f=u.parent(),o=u.data("type"),s=u.prop("required"),e=u.data("format");_dateTimeFormat[e]||(e="DATA");r.init=function(){r.settings=n.extend({},c,i);u.addClass("validInputChecker");switch(o){case"email":f.append(n('<span class="help-block" style="font-size: 8pt;">Indirizzo email non valido<\/span >').hide());break;case"codice-fiscale":f.append(n('<span class="help-block" style="font-size: 8pt;">Codice Fiscale non valido<\/span >').hide());break;case"partita-iva":$div=n('<div class="input-group">');$div.append('<span class="input-group-addon" style="width:50px;">'+r.settings.country.CODICE_NAZIONE+"<\/span>").append(u);f.append($div).append(n('<span class="help-block" style="font-size: 8pt;">Partita IVA non valida.<\/span >').hide());break;case"data-ora":f.append(n('<span class="help-block" style="font-size: 8pt;">Data non valida<\/span >').hide());u.mask(_dateTimeFormat[e].MASK,{placeholder:_dateTimeFormat[e].FORMAT,completed:function(){r.validate()}})}u.blur(function(){u.val()!=""&&r.validate()})};r.setCountry=function(n){r.settings.country=n;o=="partita-iva"&&u.prev("span").html(r.settings.country.CODICE_NAZIONE);r.validate()};r.validate=function(){switch(o){case"email":r.settings.isValid=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(u.val())?!0:!1;break;case"codice-fiscale":r.settings.isValid=r.settings.country.CHECK_CF?/^(?:[B-DF-HJ-NP-TV-Z](?:[AEIOU]{2}|[AEIOU]X)|[AEIOU]{2}X|[B-DF-HJ-NP-TV-Z]{2}[A-Z]){2}[\dLMNP-V]{2}(?:[A-EHLMPR-T](?:[04LQ][1-9MNP-V]|[1256LMRS][\dLMNP-V])|[DHPS][37PT][0L]|[ACELMRT][37PT][01LM])(?:[A-MZ][1-9MNP-V][\dLMNP-V]{2}|[A-M][0L](?:[\dLMNP-V][1-9MNP-V]|[1-9MNP-V][0L]))[A-Z]$/i.test(u.val())?!0:!1:u.val()!="";break;case"partita-iva":r.settings.isValid=r.settings.country.CHECK_PIVA?checkVATNumber(r.settings.country.CODICE_NAZIONE+u.val()):u.val()!="";break;case"data-ora":r.settings.isValid=moment(u.val(),_dateTimeFormat[e].FORMAT,"it",!0).isValid();!r.settings.isValid&&s&&u.val(moment().format(_dateTimeFormat[e].FORMAT))}return h(),s?r.settings.isValid:!0};h=function(){r.settings.isValid?f.find("span.help-block").hide():f.find("span.help-block").show()};r.init()};n.fn.validInputChecker=function(t){return this.each(function(){if(undefined==n(this).data("validInputChecker")){var i=new n.validInputChecker(this,t);n(this).data("validInputChecker",i)}})}})(jQuery);